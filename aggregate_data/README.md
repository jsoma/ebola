# Aggregate data

These files are generated by `aggregate.py`, a script in `../proofreader` written by [Jonathan Soma](https://github.com/jsoma).

### `COUNTRYNAME.csv` files

Combined data files for all dates for a given country. All headers are kept intact, missing data stays missing, and only files that pass `proofread.py` are included. For example, Sierra Leone might look something like this:

|date|variable|Western area rural|Tonkolili|Police traning School|Kenema|...|
|---|---|---|---|---|---|---|
|2014-08-12|new_noncase|0|0||3|...|
|2014-08-12|new_suspected|0|0||9|...|
|2014-08-12|new_probable|0|0||0|...|
|...|...|...|...|...|...|...|
|2014-08-24|cum_probable|0|0||0|...|
|2014-08-24|cum_confirmed|12|11||320|...|
|2014-08-24|death_suspected|0|0||1|...|

Column header order is not guaranteed.

### `COUNTRYNAME-stacked.csv` files

The stacked files breaks locations into a `Location` column, and the variable value into a `Value` column. It might looks like...

|Variable|Date|Location|Value|
|---|---|---|---|
|Total death/s in confirmed cases|09/23/2014|Bomi County|27.0|
|Total death/s in probable cases|09/23/2014|Bomi County|32.0|
|Total death/s in suspected cases|09/23/2014|Bomi County|1.0|
|...|...|...|...|
|Total probable cases|09/25/2014|Maryland County|5.0|
|Total confirmed cases|09/25/2014|Maryland County|0.0|
|...|...|...|...|
|Currently under follow-up|8/28/2014|Lofa County|367.0|
|Contacts seen|8/28/2014|Lofa County|367.0|

This is done via pandas' `melt`.